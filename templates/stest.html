{% extends 'layout.html' %}

{% block string %}

<div class="container" style="margin-bottom: 20rem;margin-top: 20rem;">

    <div class="card card-main">
        <p id="txt" style="margin-bottom: 3rem;margin-top: 2rem;">{{txt}}</p>
        <form method="POST">

            {% for answer in answers %}
            <div style="height: 5rem;">
                <input type="radio" name="answers" id="{{answer}}" value="{{answer}}">
                <label for="{{answer}}">{{answer}}</label>
                
            </div>
        
            {% endfor %} 
            <input type="number" class="timer" name="timer" id="timer" value="{{session["timer"]}}" readonly>      
    
            <button type="submit" id="answer_btn" class="_btn">Kontrol Et</button>
        </form>
        <button class="timer bg-dark text-light" onclick="start()">Ba≈üla</button> 


    </div>
    

</div>

<script>
    var card_main = document.querySelector('.card-main')
    let time = document.getElementById("timer");


    if(time.value !== "1.00" ){
        start()
    }

    function start(){
        let timer = setInterval(()=>{
            console.log(time.value)
            if(time.value==0){
                clearInterval(timer)
                document.getElementById("answer_btn").click()
            }else if(time.value==="1.00"){
                time.value = 59
            }else{
                time.value = time.value-1
            }
        },1000)
    }



    
    // {% if _is_right == True or _is_right == False%}
    // card_main.style.padding = "1.5rem 4rem 11.3rem 4rem";
    // {% else %}
    // card_main.style.padding = "11.3rem 4rem"; 
    // {% endif %}


</script>

{% endblock string %}